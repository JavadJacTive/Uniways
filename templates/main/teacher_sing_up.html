{% load static %}
<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فرم ورود</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- CSS برای زیباسازی -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />

    <!-- JavaScript برای عملکرد -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>


    <style>
        body {
            background-color: #4b1e3f; /* رنگ بادمجانی */
            color: white;
        }
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            padding: 20px;
            background: #622a51; /* رنگ بادمجانی تیره */
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        .btn-primary {
            background-color: #8c3a67;
            border: none;
        }
        .btn-primary:hover {
            background-color: #a84e7f;
        }
        
         /* تغییر رنگ پس‌زمینه و متن گزینه‌های لیست */
        #department option {
            background-color: #e0b3ff; /* بنفش کم‌رنگ */
            color: #8200aa9f; /* بنفش پررنگ */
        }
            

                /* پس‌زمینه منوی کشویی Select2 */
        .select2-container .select2-dropdown {
        background-color: #761753 !important; /* پس‌زمینه روشن */
        }
س
        /* رنگ متن گزینه‌ها در منوی کشویی */
        .select2-container .select2-results__option {
        color: #ffffff !important; /* متن مشکی */
        }

        /* رنگ پس‌زمینه و متن وقتی گزینه‌ها هاور یا انتخاب می‌شوند */
        .select2-container .select2-results__option--highlighted {
        background-color: #f8c3fe !important; /* پس‌زمینه آبی (Bootstrap) */
        color: #520054 !important; /* متن سفید */
}

    </style>

    <script>
        
     $(document).ready(function() {
        $("#department").select2({
            placeholder: "یک دانشکده را انتخاب کنید...",
            allowClear: true
        });
    });

    </script>

</head>
<body>

    

    <div class="container">
        <div class="login-container">
            

            

                


            <h3 class="text-center">استاد محترم(ثبت نام)</h3>
            
            /* My Form */
            <form method="post" accept="{% url 'teacher_sms_signUp_Name' %}">
                {% csrf_token %}
                

                {% if form.errors %}
                {% for field in form %}
                    {% for error in field.errors %}
                            <p style="text-align: right; color: #ff0000;">{{ error|safe }}</p>
                        {% endfor %}
                    {% endfor %}
                        {% for error in form.non_field_errors %}
                            <p style="text-align: right; color: #ff0000;">{{ error|safe }}</p>
                {% endfor %}
        {% endif %}


                <div class="mb-3">
                    <label for="name" class="form-label">نام</label>
                    <input   type="text" id="name" name="first_name" class="form-control" required>
                    {% if form.first_name.errors %}
                        {% for error in form.first_name.errors %}
                            <div style="text-align: center; color: #ff0000;" > {{error}}</div>
                        {% endfor %}
                    {% endif %}
               

                <div class="mb-3">
                    <label for="name" class="form-label">نام خانوادگی *</label>
                    <input type="text" id="name" name="last_name" class="form-control" required>
                    {% if form.last_name.errors %}
                        {% for error in form.last_name.errors %}
                            <div style="text-align: center; color: #ff0000;"> {{ error }} </div>
                        {% endfor %}
                    {% endif %}
                 

           
              
                </div>
            
                <div class="mb-3">
                    <label for="number" class="form-label">شماره موبایل</label>
                    <input type="number" id="number" name="number" class="form-control" required>
                    <!-- اگر ارور داشتیم   -->  
            {% if form.number.errors %}
            {% for error in form.number.errors %}
                <!-- بررسی ارور خومون در فرم-->
                {% if "already number_teacher" in error %}
                <div style="text-align: center; color: #ff0000;" > شماره تکراری است! لطفاً شماره دیگری وارد کنید. *</div>
                <!-- بررسی ارور خود جنگو-->
                {% elif "This field is required" in error %}
                <div style="text-align: center; color: #ff0000;"> فیلد شماره خالیه *</div>
                 <!-- بررسی ارور مربوط به تکراری بودن شماره(ارور خود جنگو) -->
                  {% elif "Teacher with this Number already exists." in error %}
                  <div style="text-align: center; color: #ff0000;">
                    این شماره قبلاً ثبت شده! لطفاً شماره دیگری انتخاب کنید. *
                </div>
                
                {% endif %}
                {% endfor %}
                {% endif %}
                </div>
                
              
                
                <!-- لیست کشویی -->
                <div class="mb-3">
                    <label for="department" class="form-label">دانشکده</label>
                    <select id="department" name="department" class="form-select">
                        <option value="">🔽 لطفاً یک دانشکده انتخاب کنید</option>
                        {% for department in departments %}
                        <option value="{{ department.id }}" > {{department.name}} </option>
                        {% endfor %}
                    </select>
                    {% if form.department.errors %}
                    {% for error in form.department.errors %}
    
                    <!-- بررسی ارور خود جنگو-->
                    {% if "This field is required" in error %}
                    <div style="text-align: center; color: #ff0000;" > لطفا یک دانشکده را انتخاب کنید* </div>
                    {% endif %}
                    {% endfor %}
                    {% endif %}
                </div>
                
                
                <label for="studyfields" class="form-label">رشته</label>
                <select id="studyfields" name="field_of_study" class="form-select">
                    <option value="">🔽 لطفاً یک رشته انتخاب کنید</option>
                    {% for study in studyfields %}
                    <option value="{{ study.id }}" > {{study.name}} </option>
                    {% endfor %}
                </select>
            

                <div class="mb-3">
                    <label for="password" class="form-label">رمز عبور</label>
                    <input type="password" id="password" name="password" class="form-control" required>
                    {% if form.password.errors %}
                        {% for error in form.password.errors %}
                            <div style="text-align: center; color: #ff0000;" > {{ error }} </div>
            
                        {% endfor %}
                    {% endif %}
                </div>
            
                <button type="submit" class="btn btn-primary w-100">ثبت نام</button>
            </form>
            <p> از قبل ثبت نام کردی؟ پس (<a href="/teacher/login/"> ورود </a>)
            </p>


        </div>
    </div>

   
   
      
</body>
</html>
